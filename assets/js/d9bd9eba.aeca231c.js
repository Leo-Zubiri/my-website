"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5805],{3905:(e,a,t)=>{t.d(a,{Zo:()=>i,kt:()=>k});var r=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var c=r.createContext({}),p=function(e){var a=r.useContext(c),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},i=function(e){var a=p(e.components);return r.createElement(c.Provider,{value:a},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},m=r.forwardRef((function(e,a){var t=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,i=s(e,["components","mdxType","originalType","parentName"]),u=p(t),m=n,k=u["".concat(c,".").concat(m)]||u[m]||d[m]||o;return t?r.createElement(k,l(l({ref:a},i),{},{components:t})):r.createElement(k,l({ref:a},i))}));function k(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var o=t.length,l=new Array(o);l[0]=m;var s={};for(var c in a)hasOwnProperty.call(a,c)&&(s[c]=a[c]);s.originalType=e,s[u]="string"==typeof e?e:n,l[1]=s;for(var p=2;p<o;p++)l[p]=t[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7491:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=t(7462),n=(t(7294),t(3905));const o={},l="React Redux CRUD",s={unversionedId:"react/Redux-toolkit",id:"react/Redux-toolkit",title:"React Redux CRUD",description:"Una de las mayores problem\xe1ticas de React es la forma en que se administran los estados y como los cambios pueden afectar a otros componentes. React propaga los cambios entre sus componentes de arriba-abajo y de abajo-arriba, es decir, un componente solo se puede comunicar con sus hijos directos y con su padre.",source:"@site/docs/react/Redux-toolkit.md",sourceDirName:"react",slug:"/react/Redux-toolkit",permalink:"/my-website/docs/react/Redux-toolkit",draft:!1,editUrl:"https://github.com/Leo-Zubiri/my-website/tree/master/docs/react/Redux-toolkit.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Planificador Gastos",permalink:"/my-website/docs/react/Planificador Gastos"},next:{title:"Tailwind CSS",permalink:"/my-website/docs/react/Tailwind"}},c={},p=[{value:"<strong>Documentaci\xf3n Redux Here &gt;&gt;&gt;</strong>",id:"documentaci\xf3n-redux-here-",level:3},{value:"<strong>Instalaci\xf3n</strong>",id:"instalaci\xf3n",level:2},{value:"<strong>Instalar Redux en el proyecto</strong>",id:"instalar-redux-en-el-proyecto",level:3},{value:"<strong>Instalar Redux desde el Create-React-App</strong>",id:"instalar-redux-desde-el-create-react-app",level:3},{value:"<strong>Crear el Redux Store</strong>",id:"crear-el-redux-store",level:2},{value:"<strong>Implementaci\xf3n</strong>",id:"implementaci\xf3n",level:2},{value:"<strong>Empezar a importar un Provider</strong>",id:"empezar-a-importar-un-provider",level:3},{value:"<strong>Crear Estado</strong>",id:"crear-estado",level:2},{value:"<strong>Desde los componentes</strong>",id:"desde-los-componentes",level:2},{value:"<strong>Desde el componente para leer el estado</strong>",id:"desde-el-componente-para-leer-el-estado",level:3},{value:"<strong>Crear Reducers para modificar el estado</strong>",id:"crear-reducers-para-modificar-el-estado",level:2},{value:"<strong>Desde componente para cambiar el estado</strong>",id:"desde-componente-para-cambiar-el-estado",level:3},{value:"<strong>Crear ID unicos con librer\xeda</strong>",id:"crear-id-unicos-con-librer\xeda",level:2},{value:"<strong>React Router</strong>",id:"react-router",level:2},{value:"<strong>Instalaci\xf3n</strong>",id:"instalaci\xf3n-1",level:3},{value:"<strong>Implementaci\xf3n</strong>",id:"implementaci\xf3n-1",level:3},{value:"<strong>Navegar entre las rutas</strong>",id:"navegar-entre-las-rutas",level:2},{value:"<strong>Link</strong>",id:"link",level:3},{value:"<strong>useNavigate</strong>",id:"usenavigate",level:3},{value:"<strong>Leer parametros en el url de la pagin</strong>",id:"leer-parametros-en-el-url-de-la-pagin",level:3}],i={toc:p},u="wrapper";function d(e){let{components:a,...t}=e;return(0,n.kt)(u,(0,r.Z)({},i,t,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"react-redux-crud"},"React Redux CRUD"),(0,n.kt)("p",null," Una de las mayores problem\xe1ticas de React es la forma en que se administran los estados y como los cambios pueden afectar a otros componentes. React propaga los cambios entre sus componentes de arriba-abajo y de abajo-arriba, es decir, un componente solo se puede comunicar con sus hijos directos y con su padre."),(0,n.kt)("p",null," Redux es una herramienta que nos ayuda a gestionar la forma en que accedemos y actualizamos el estado de la aplicaci\xf3n de una forma centralizada y controlada. Mediante Redux es posible centralizar el estado general de la aplicaci\xf3n en algo llamado store, liberando a los componentes la responsabilidad de administrar un estado interno."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Redux ya no es tan fundamental debido a las actualizaciones de React y el uso de su Context API. React Context API puede ser una buena soluci\xf3n cuando lo que necesitas es una simple gesti\xf3n de estados. Pero debes recordar que el prop\xf3sito de Redux es el de gestionar el estado de una aplicaci\xf3n, mientras que el de Context es pasar propiedades.")),(0,n.kt)("br",null),(0,n.kt)("h3",{id:"documentaci\xf3n-redux-here-"},(0,n.kt)("strong",{parentName:"h3"},"Documentaci\xf3n Redux ",(0,n.kt)("a",{parentName:"strong",href:"https://redux-toolkit.js.org/"},"Here >>>"))),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"instalaci\xf3n"},(0,n.kt)("strong",{parentName:"h2"},"Instalaci\xf3n")),(0,n.kt)("h3",{id:"instalar-redux-en-el-proyecto"},(0,n.kt)("strong",{parentName:"h3"},"Instalar Redux en el proyecto")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"npm install @reduxjs/toolkit react-redux\n")),(0,n.kt)("h3",{id:"instalar-redux-desde-el-create-react-app"},(0,n.kt)("strong",{parentName:"h3"},"Instalar Redux desde el Create-React-App")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"# Redux + Plain JS template\nnpx create-react-app my-app --template redux\n\n# Redux + TypeScript template\nnpx create-react-app my-app --template redux-typescript\n")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"crear-el-redux-store"},(0,n.kt)("strong",{parentName:"h2"},"Crear el Redux Store")),(0,n.kt)("p",null,"Store central donde se almacenar\xe1 el estado global de la aplicaci\xf3n."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Crer archivo ",(0,n.kt)("strong",{parentName:"p"},"src/app/store.js"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Desde el arhivo store.js agregar:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-Javascript"}," import { configureStore } from '@reduxjs/toolkit'\n\n export const store = configureStore({\n     reducer: {},\n })\n")))),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"implementaci\xf3n"},(0,n.kt)("strong",{parentName:"h2"},"Implementaci\xf3n")),(0,n.kt)("h3",{id:"empezar-a-importar-un-provider"},(0,n.kt)("strong",{parentName:"h3"},"Empezar a importar un Provider")),(0,n.kt)("p",null,"Componente que contiene a toda la aplicacion para que este sea el encargado de gestionar los estados."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},'Desde el archivo principal de react donde se monta "<',(0,n.kt)("strong",{parentName:"li"},"App/"),'>" se debe importar el store y el provider y posteriormente crear un Componente Provider que englobe al componente App')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Javascript"},"import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\n// Redux\nimport { store } from './app/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <Provide store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>\n)\n  \n")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"crear-estado"},(0,n.kt)("strong",{parentName:"h2"},"Crear Estado")),(0,n.kt)("p",null,"Los reducers son la forma en la cual se podr\xe1 modificar el estado de la store. Se puede contrastar con el setState en los estados de react."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Se recomienda crear los Reducers en ",(0,n.kt)("strong",{parentName:"p"},"src/features/carpeta"))),(0,n.kt)("p",null,"Posteriormente desde esa ruta se pueden crear carpetas segun el contexto de funcionalidad. ",(0,n.kt)("br",null),"\n",(0,n.kt)("strong",{parentName:"p"},"En este proyecto se cre\xf3 la carpeta tasks/taskSlice.js")," "),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Dentro del archivo correspondiente se debe agregar el Slice: ")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Javascript"},"import { createSlice } from '@reduxjs/toolkit' \n\nexport const taskSlice = createSlice({\n    name: 'tasks',\n    initialState:[],\n    reducers: {\n\n    }\n})\n\nexport default taskSlice.reducer\n")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Importarlo desde el store.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import { configureStore } from '@reduxjs/toolkit'\nimport taskReducer from '../features/tasks/taskSlice'\n\nexport const store = configureStore({\n  reducer: {\n    tasks: taskReducer\n  },\n})\n")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"desde-los-componentes"},(0,n.kt)("strong",{parentName:"h2"},"Desde los componentes")),(0,n.kt)("p",null,"Importar el useDispatch o useSelector"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"useDispatch")," es para hacer algo"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"useSelector")," es para traer algo")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import {useSelector} from 'react-redux'\nimport {useDispatch} from 'react-redux'\n")),(0,n.kt)("h3",{id:"desde-el-componente-para-leer-el-estado"},(0,n.kt)("strong",{parentName:"h3"},"Desde el componente para leer el estado")),(0,n.kt)("p",null,"Se utiliza el useSelector"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Javascript"},"import {useSelector} from 'react-redux';\n\nfunction App() {\n  \n  //Desde la store obtener el estado de las tareas\n  const taskState = useSelector(state => state.tasks)\n\n  return (\n    <div className=\"App\">\n      <p>Hola Mundo</p>\n\n    </div>\n  )\n}\n\nexport default App\n\n")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"crear-reducers-para-modificar-el-estado"},(0,n.kt)("strong",{parentName:"h2"},"Crear Reducers para modificar el estado")),(0,n.kt)("p",null,"Desde taskSlice.js, se agrega el reducer, el cual es una funci\xf3n que recibel el state actual y un action."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"export const taskSlice = createSlice({\n    name: 'tasks',\n    initialState,\n    reducers: {\n        addTask: (state,action) => {\n            state.push(action.payload)\n        }\n    }\n})\n")),(0,n.kt)("p",null,"Se exportan los reducers que se deseen al final del script"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"\n//Se exporta el reducer y el estado Tasks\nexport const {addTask} = taskSlice.actions\nexport default taskSlice.reducer\n")),(0,n.kt)("h3",{id:"desde-componente-para-cambiar-el-estado"},(0,n.kt)("strong",{parentName:"h3"},"Desde componente para cambiar el estado")),(0,n.kt)("p",null,"Se utiliza el useDispatch, se importa junto al reducer que se requiera"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"//Para usar un reducer, disparar eventos\nimport { useDispatch } from \"react-redux\"\nimport { addTask } from '../features/tasks/taskSlice'\n")),(0,n.kt)("p",null,"Para ejecutar el cambio en el state:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"}," //Se importa el useDispatch como si fuera un hook en la parte superior\n const dispatch = useDispatch();\n\n //El parametro en addTask es conocido como payload\n dispatch(addTask(task));\n")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"crear-id-unicos-con-librer\xeda"},(0,n.kt)("strong",{parentName:"h2"},"Crear ID unicos con librer\xeda")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"npm install uuid\n")),(0,n.kt)("p",null,"Importar"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"//V4 es uno de los estandar de id\nimport {v4 as uuid} from 'uuid';\n")),(0,n.kt)("p",null,"Generar un ID \xfanico"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"const id = uuid();\n")),(0,n.kt)("hr",null),(0,n.kt)("h2",{id:"react-router"},(0,n.kt)("strong",{parentName:"h2"},"React Router")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://reactrouter.com/"},"Documentation React router>>>")),(0,n.kt)("h3",{id:"instalaci\xf3n-1"},(0,n.kt)("strong",{parentName:"h3"},"Instalaci\xf3n")),(0,n.kt)("p",null,"Desde el proyecto con react establecido:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"npm install react-router-dom@6\n")),(0,n.kt)("h3",{id:"implementaci\xf3n-1"},(0,n.kt)("strong",{parentName:"h3"},"Implementaci\xf3n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Javascript"},"//Se importa React router en el componente App\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\n...\n\n//Se envuelven los componentes a cargar por rutas en las siguientes etiquetas:\n\n<BrowserRouter>\n  <Routes>\n    \n    {/* Componente que se carga por defecto ruta ra\xedz */}\n    <Route path='/' element={<Componente1 />} />\n    \n    {/* Componente que carga en la url/component2 */}\n    <Route path='/component2' element={<Componente2 />}/>\n    \n  </Routes>\n</BrowserRouter>\n\n")),(0,n.kt)("h2",{id:"navegar-entre-las-rutas"},(0,n.kt)("strong",{parentName:"h2"},"Navegar entre las rutas")),(0,n.kt)("h3",{id:"link"},(0,n.kt)("strong",{parentName:"h3"},"Link")),(0,n.kt)("p",null,"Importar Link para navegar al pulsar sobre ciertos elementos, es la alternativa sin anchor <",(0,n.kt)("em",{parentName:"p"},"a"),"> para evitar el refresh de la p\xe1gina."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import {Link} from 'react-router-dom';\n\n...\n\n// Colocar la etiqueta Link para la redireccion al darle click al elemento\n<Link to='/ruta'> Ir a la ruta </Link>\n")),(0,n.kt)("h3",{id:"usenavigate"},(0,n.kt)("strong",{parentName:"h3"},"useNavigate")),(0,n.kt)("p",null,"Importar el hook useNavigate para navegar en un momento dado con JavaScript"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import {useNavigate} from 'react-router-dom';\n\n...\n\n// Establecemos el hook en el componente deseado\nconst navigate = useNavigate();\n\n...\n\n// Para redireccionar a una ruta\nnavigate('/componente2');\n")),(0,n.kt)("h3",{id:"leer-parametros-en-el-url-de-la-pagin"},(0,n.kt)("strong",{parentName:"h3"},"Leer parametros en el url de la pagin")),(0,n.kt)("p",null,"Se utiliza el hook useParams"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"import {useParams} from 'react-router-dom';\n\n...\n\n// Para obtener un objeto con los parametros de la url\nconst params = useParams();\n")),(0,n.kt)("hr",null))}d.isMDXComponent=!0}}]);